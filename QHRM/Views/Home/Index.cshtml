@{
	ViewData["Title"] = "Home Page";
	var msg = ViewData["message"] as string;
}
@model IEnumerable<Products>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Products List</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="~/css/StyleSheet.css" rel="stylesheet" id="bootstrap-css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


</head>
<body>
	 <input type="hidden" id="message" value="@Convert.ToString(ViewData["message"])"/>

	<div class="container">
		<div class="table-responsive">
			<div class="table-wrapper">
				<div class="table-title">
					<div class="row">
						<div class="col-xs-6">
							<h2>Manage <b>Products</b></h2>
						</div>
						
						<div class="col-xs-6">
							<a asp-controller="Home" asp-action="AddProduct" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Add New Product</span></a>
						</div>
					</div>
				</div>
				
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Name</th>
							<th>Price</th>
							<th>Description</th>
							<th>Created Date</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var products in Model)
						{
							<tr>
								
									<td>@products.Name</td>
								<td>@products.Price</td>
								<td>@products.Description</td>
								<td>@products.CreatedDate</td>
								<td>
									<a asp-controller="Home" asp-action="EditProduct" asp-route-id="@products.Id" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
									<a asp-controller="Home" asp-action="DeleteProduct" asp-route-id="@products.Id" class="delete" data-toggle="modal"><i  class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
								</td>
							</tr>
						}
						
					</tbody>
				</table>
			</div>
		</div>        
	</div>

</body>
</html>
<script>
	
	$(document).ready(function () {
		var str = $("#message").val();
		if (str != "") {
			alert(str);
			var url = document.URL;
			var finalUrl = url.split("?")[0].split("#")[0];
			location.href = finalUrl;
		}
	});

	
</script>
